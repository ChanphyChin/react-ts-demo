(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{141:function(e,t){},221:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(25),r=n.n(c),s=n(38),i=n(22),l=(n(128),n.p,n(106)),j=n.n(l),h=n(79),u={request:function(e){var t=e.method,n=void 0===t?"get":t,a=e.apiRoot,o=e.apiPath,c=e.params,r=void 0===c?{}:c,s=e.customHeaders;r=Object(h.clone)(r);var i=a+o,l=j.a[n](i);if(r)switch(n){case"get":Object(h.forIn)(r,(function(e,t){Object(h.isArray)(e)&&(r[t]=e.join(","))})),l=l.query(r);break;case"delete":break;default:console.log(r),l=l.send(r)}return s&&l.set(s),l},get:function(e){return Promise.resolve()},post:function(e){return Promise.resolve()},put:function(e){return Promise.resolve()},delete:function(e){return Promise.resolve()}};function p(e){return e.status,Promise.reject(e)}["get","post","put","patch","delete"].forEach((function(e){u[e]=function(t,n){var a=t.apiRoot,o=t.apiPath,c=t.params;return n=Object.assign({},n,{method:e,apiRoot:a,apiPath:o,params:c}),u.request(n).then((function(e){return console.log(e),e.body})).catch(p)}}));var m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,232)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),o(e),c(e),r(e)}))},b=n(118),d=n(223),O=n(227),f=n(229),g=n(230),x=n(231),v=n(226),y=n(6),P=d.a.Header,C=function(e){var t=Object(i.g)(),n=Object(y.jsxs)(O.a,{onClick:function(n){return function(n){var a=e.onClick;a&&a(n),"/login"===n?u.post({apiRoot:"http://192.168.0.11:4000",apiPath:"/logout"}).then((function(e){sessionStorage.removeItem("token"),t.push("/login")})):t.push(n)}(n.key)},children:[Object(y.jsx)(O.a.Item,{children:"User Center"},"/userCenter"),Object(y.jsx)(O.a.Item,{children:"logout"},"/login")]});return Object(y.jsx)(P,{style:{textAlign:"right"},children:Object(y.jsx)(v.a,{overlay:n,placement:"bottomCenter",children:Object(y.jsx)(f.a,{style:{fontSize:30,color:"#fff"}})})})},I=d.a.Sider,k=d.a.Content,w=n(42),F=n(224),S=n(225),N=n(228),R=n(52),q=(n.p,[{path:"/login",name:"login",component:function(){var e=Object(i.g)(),t={wrapperCol:{offset:8,span:16}};return Object(y.jsxs)(F.a,Object(w.a)(Object(w.a)({},{labelCol:{span:8},wrapperCol:{span:16}}),{},{name:"basic",initialValues:{remember:!0},onFinish:function(t){u.post({apiRoot:"http://192.168.0.11:4000",apiPath:"/login",params:t}).then((function(e){console.log(e,"res")})),sessionStorage.setItem("token",JSON.stringify(t)),e.push("/home")},onFinishFailed:function(e){console.log("Failed:",e)},className:"login",children:[Object(y.jsx)(F.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(y.jsx)(S.a,{})}),Object(y.jsx)(F.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(y.jsx)(S.a.Password,{})}),Object(y.jsx)(F.a.Item,Object(w.a)(Object(w.a)({},t),{},{name:"remember",valuePropName:"checked",children:Object(y.jsx)(N.a,{children:"Remember me"})})),Object(y.jsx)(F.a.Item,Object(w.a)(Object(w.a)({},t),{},{children:Object(y.jsx)(R.a,{type:"primary",htmlType:"submit",children:"Login"})}))]}))}},{path:"/404",name:"pageNotFound",component:function(){var e=Object(i.g)();return Object(y.jsxs)("div",{children:["page not found",Object(y.jsx)("div",{children:Object(y.jsx)(R.a,{onClick:function(){e.push("/home")},children:"back to home"})})]})}}]),E=[{path:"/home",name:"home",component:function(){var e=Object(a.useState)(!1),t=Object(b.a)(e,2),n=t[0];t[1],Object(i.g)();Object(a.useEffect)((function(){u.get({apiRoot:"http://192.168.0.11:4000",apiPath:"/home"})}));O.a,O.a.Item;var o=E.find((function(e){return"home"===e.name})),c=o&&o.children;return Object(y.jsxs)(d.a,{style:{height:"100%"},children:[Object(y.jsx)(C,{}),Object(y.jsx)(k,{children:Object(y.jsxs)(d.a,{style:{height:"100%"},children:[Object(y.jsxs)(I,{trigger:null,collapsible:!0,collapsed:n,children:[Object(y.jsx)("div",{className:"logo"}),Object(y.jsxs)(O.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],children:[Object(y.jsx)(O.a.Item,{icon:Object(y.jsx)(f.a,{}),children:"nav 1"},"1"),Object(y.jsx)(O.a.Item,{icon:Object(y.jsx)(g.a,{}),children:"nav 2"},"2"),Object(y.jsx)(O.a.Item,{icon:Object(y.jsx)(x.a,{}),children:"nav 3"},"3")]})]}),Object(y.jsx)(d.a,{className:"site-layout",children:Object(y.jsx)(k,{className:"site-layout-background",style:{margin:"24px 16px",padding:24,minHeight:280},children:Object(y.jsxs)(i.d,{children:[c&&c.map((function(e){return Object(y.jsx)(i.b,{path:e.path,component:e.component},e.path)})),Object(y.jsx)(i.a,{from:"*",to:"/home/dasheboard"})]})})})]})})]})},auth:!0,children:[{path:"/home/dasheboard",name:"dasheboard",component:function(){return Object(y.jsx)("div",{children:"Dasheboard"})},auth:!0}]},{path:"/userCenter",name:"userCenter",component:function(){return Object(y.jsx)("div",{children:"UserCenter"})},auth:!0}];n(117),n(93);r.a.render(Object(y.jsx)(o.a.StrictMode,{children:Object(y.jsx)(s.a,{children:Object(y.jsxs)(i.d,{children:[q.map((function(e){return Object(y.jsx)(i.b,{path:e.path,component:e.component},e.path)})),E.map((function(e){return Object(y.jsx)(i.b,{path:e.path,component:e.component},e.path)}))]})})}),document.getElementById("root")),m()}},[[221,1,2]]]);
//# sourceMappingURL=main.19841f52.chunk.js.map