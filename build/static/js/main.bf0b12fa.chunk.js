(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{226:function(e,t,n){},239:function(e,t){},485:function(e,t,n){},526:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(27),r=n.n(c),i=n(66),s=n(26),u=(n(225),n(226),n(211)),h=n.n(u),l=n(76),j={request:function(e){var t=e.method,n=void 0===t?"get":t,a=e.apiRoot,o=e.apiPath,c=e.params,r=void 0===c?{}:c,i=e.customHeaders;r=Object(l.clone)(r);var s=a+o,u=h.a[n](s);if(r)switch(n){case"get":Object(l.forIn)(r,(function(e,t){Object(l.isArray)(e)&&(r[t]=e.join(","))})),u=u.query(r);break;case"delete":break;default:console.log(r),u=u.send(r)}return i&&u.set(i),u},get:function(e){return Promise.resolve()},post:function(e){return Promise.resolve()},put:function(e){return Promise.resolve()},delete:function(e){return Promise.resolve()}};function p(e){return 401===e.status&&(window.location.href="/#/login"),Promise.reject(e)}["get","post","put","patch","delete"].forEach((function(e){j[e]=function(t,n){var a=t.apiRoot,o=t.apiPath,c=t.params;return n=Object.assign({},n,{method:e,apiRoot:a,apiPath:o,params:c}),j.request(n).then((function(e){return console.log(e),e.body})).catch(p)}}));var d=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,535)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),o(e),c(e),r(e)}))},b=(n(63),n(48)),m=n.n(b),O=(n(151),n(50)),g=n.n(O),f=n(84),x=n(109),v=(n(152),n(62)),y=n.n(v),C=n(533),P=n(534),S=(n(153),n(100)),k=n.n(S),I=n(9),w=y.a.Header,R=function(e){var t=Object(s.g)(),n=Object(I.jsxs)(g.a,{onClick:function(n){return function(n){var a=e.onClick;a&&a(n),console.log(n),"/login"===n?j.post({apiRoot:"http://192.168.0.11:4000",apiPath:"/logout"}).then((function(e){sessionStorage.removeItem("token"),t.push("/login")})):t.push(n)}(n.key)},children:[Object(I.jsx)(g.a.Item,{children:"Home"},"/home"),Object(I.jsx)(g.a.Item,{children:"User Center"},"/userCenter"),Object(I.jsx)(g.a.Item,{children:"logout"},"/login")]});return Object(I.jsx)(w,{style:{textAlign:"right"},children:Object(I.jsx)(k.a,{overlay:n,placement:"bottomCenter",children:Object(I.jsx)(C.a,{style:{fontSize:30,color:"#fff"}})})})},F=(n(325),n(215)),N=n.n(F),q=n(53),z=n(213),D=n(214),E=n(219),H=n(217),T=function(e){Object(E.a)(n,e);var t=Object(H.a)(n);function n(){var e;Object(z.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={dataSource:[],pagination:{page:1,current:1,pageSize:10,total:1,onChange:function(e){}}},e.getDataSource=function(t){j.get({apiRoot:"http://192.168.0.11:4000",apiPath:"/dasheboard_table",params:{page:t,pageSize:10}}).then((function(t){e.setState((function(e){return{dataSource:t.result,pagination:Object(q.a)(Object(q.a)({},e.pagination),{},{page:t.page,current:t.page,pageSize:t.pageSize,total:t.total})}}))}))},e.onPageChange=function(t){e.getDataSource(t)},e}return Object(D.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.dataSource,a=t.pagination;return(a=Object(l.cloneDeep)(a)).onChange=this.onPageChange,Object(I.jsxs)("div",{children:[Object(I.jsx)(m.a,{type:"primary",onClick:function(){return e.getDataSource(1)},children:"\u83b7\u53d6\u6570\u636e"}),Object(I.jsx)(N.a,{dataSource:n,columns:[{title:"\u59d3\u540d",dataIndex:"name",key:"name"},{title:"\u5e74\u9f84",dataIndex:"age",key:"age"},{title:"\u4f4f\u5740",dataIndex:"address",key:"address"}],style:{marginTop:30},pagination:a})]})}}]),n}(a.Component);function A(){return Object(I.jsx)("div",{children:"Redux"})}var J=y.a.Sider,L=y.a.Content,M=(n(175),n(101)),U=n.n(M),_=(n(480),n(78)),B=n.n(_),K=(n(483),n(148)),V=n.n(K),G=(n(485),n(511),n(216)),Q=n.n(G),W=[{path:"/login",name:"login",component:function(){var e=Object(s.g)(),t={wrapperCol:{offset:8,span:16}};return Object(I.jsxs)(B.a,Object(q.a)(Object(q.a)({},{labelCol:{span:8},wrapperCol:{span:16}}),{},{name:"basic",initialValues:{remember:!0},onFinish:function(t){j.post({apiRoot:"http://192.168.0.11:4000",apiPath:"/login",params:t}).then((function(e){console.log(e,"res")})),sessionStorage.setItem("token",JSON.stringify(t)),e.push("/home")},onFinishFailed:function(e){console.log("Failed:",e)},className:"login",children:[Object(I.jsx)(B.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(I.jsx)(V.a,{})}),Object(I.jsx)(B.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(I.jsx)(V.a.Password,{})}),Object(I.jsx)(B.a.Item,Object(q.a)(Object(q.a)({},t),{},{name:"remember",valuePropName:"checked",children:Object(I.jsx)(U.a,{children:"Remember me"})})),Object(I.jsx)(B.a.Item,Object(q.a)(Object(q.a)({},t),{},{children:Object(I.jsx)(m.a,{type:"primary",htmlType:"submit",children:"Login"})}))]}))}},{path:"/404",name:"pageNotFound",component:function(){var e=Object(s.g)();return Object(I.jsxs)("div",{children:["page not found",Object(I.jsx)("div",{children:Object(I.jsx)(m.a,{onClick:function(){e.push("/home")},children:"back to home"})})]})}}],X=[{path:"/home",name:"home",component:function(){var e=Object(a.useState)([]),t=Object(x.a)(e,2),n=t[0],o=t[1],c=Object(s.g)(),r=Object(s.h)();Object(a.useEffect)((function(){j.get({apiRoot:"http://192.168.0.11:4000",apiPath:"/home_routes"}).then((function(e){o(e)}))}),[]);var i=Object(a.useMemo)((function(){return[r.pathname]}),[r.pathname]),u=X.find((function(e){return"home"===e.name})),h=Object(a.useMemo)((function(){return u&&u.children||[]}),[u]),l=Object(a.useCallback)((function(){return n.reduce((function(e,t){var n,a=Object(f.a)(h);try{for(a.s();!(n=a.n()).done;){var o=n.value;o.path===t&&e.push(o)}}catch(c){a.e(c)}finally{a.f()}return e}),[])}),[n,h]);return Object(I.jsxs)(y.a,{style:{height:"100%"},children:[Object(I.jsx)(R,{}),Object(I.jsx)(L,{children:Object(I.jsxs)(y.a,{style:{height:"100%"},children:[Object(I.jsxs)(J,{trigger:null,collapsible:!0,children:[Object(I.jsx)("div",{className:"logo"}),Object(I.jsxs)(g.a,{theme:"dark",mode:"inline",selectedKeys:i,onSelect:function(e){return function(e){c.push(e)}(e.key)},children:[Object(I.jsx)(g.a.Item,{icon:Object(I.jsx)(C.a,{}),children:"dasheboard"},"/home/dasheboard"),Object(I.jsx)(g.a.Item,{icon:Object(I.jsx)(P.a,{}),children:"redux"},"/home/redux")]})]}),Object(I.jsx)(y.a,{className:"site-layout",children:Object(I.jsxs)(L,{className:"site-layout-background",style:{margin:"24px 16px",padding:24,minHeight:280},children:[!n.length&&Object(I.jsx)(m.a,{children:"\u83b7\u53d6\u5b50\u8def\u7531"}),Object(I.jsxs)(s.d,{children:[l().map((function(e){return Object(I.jsx)(s.b,{path:e.path,component:e.component},e.path)})),Object(I.jsx)(s.a,{from:"*",to:"/home/dasheboard"})]})]})})]})})]})},auth:!0,children:[{path:"/home/dasheboard",name:"dasheboard",component:T,auth:!0},{path:"/home/redux",name:"redux",component:A,auth:!0}]},{path:"/userCenter",name:"userCenter",component:function(){var e=Object(a.useState)({username:""}),t=Object(x.a)(e,2),n=t[0],o=t[1];return Object(a.useEffect)((function(){j.get({apiRoot:"http://192.168.0.11:4000",apiPath:"/user_info"}).then((function(e){o(e)}))}),[]),Object(I.jsxs)("div",{children:[Object(I.jsx)(R,{}),Object(I.jsx)(Q.a,{title:"User Info",bordered:!1,style:{width:300},children:Object(I.jsxs)("p",{children:["user: ",n.username]})})]})},auth:!0}];n(218);r.a.render(Object(I.jsx)(o.a.StrictMode,{children:Object(I.jsx)(i.a,{children:Object(I.jsxs)(s.d,{children:[W.map((function(e){return Object(I.jsx)(s.b,{path:e.path,component:e.component},e.path)})),X.map((function(e){return Object(I.jsx)(s.b,{path:e.path,component:e.component},e.path)})),Object(I.jsx)(s.a,{from:"*",to:"/home"})]})})}),document.getElementById("root")),d()}},[[526,1,2]]]);
//# sourceMappingURL=main.bf0b12fa.chunk.js.map